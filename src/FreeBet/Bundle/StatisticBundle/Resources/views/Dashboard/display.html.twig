{% extends "FreeBetUIBundle::layout.html.twig" %}

{% block title %}{{ 'dashboard.title'|trans }}{% endblock %}

{% block content %}
<div id="dashboard">
    <div class="row">
        <div class="col-lg-4 col-xs-6">
            <div class="small-box bg-olive">
                <div class="inner">
                    <h3>
                        {{ stats.winner }}
                    </h3>
                    <p>
                        {{ 'dashboard.winner'|transchoice(stats.winner) }}
                    </p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{{ path('user_account_gambles_list') }}" class="small-box-footer">
                    {{ 'dashboard.link'|trans }} <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-4 col-xs-6">
            <div class="small-box bg-yellow">
                <div class="inner">
                    <h3>
                        {{ stats.unprocessed }}
                    </h3>
                    <p>
                        {{ 'dashboard.unprocessed'|transchoice(stats.unprocessed) }}
                    </p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{{ path('user_account_gambles_list') }}" class="small-box-footer">
                    {{ 'dashboard.link'|trans }} <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
        <div class="col-lg-4 col-xs-6">
            <div class="small-box bg-red">
                <div class="inner">
                    <h3>
                        {{ stats.loser }}
                    </h3>
                    <p>
                        {{ 'dashboard.loser'|transchoice(stats.loser) }}
                    </p>
                </div>
                <div class="icon">
                    <i class="ion ion-stats-bars"></i>
                </div>
                <a href="{{ path('user_account_gambles_list') }}" class="small-box-footer">
                    {{ 'dashboard.link'|trans }} <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12 col-xs-12">
            <div class="small-box bg-light-blue">
                <div class="inner">
                    <h3>
                        {{ 'dashboard.point.number'|transchoice(point, {"%count%":point}) }}
                    </h3>
                    <p>
                        {{ 'dashboard.point.gamble'|transchoice(count, {"%count%":count, "%date%": app.user.created|date('date.date'|trans)}) }}
                    </p>
                </div>
                <div class="icon">
                    <i class="ion {% if point < 0 %}ion-sad{% else %}ion-happy{% endif %}"></i>
                </div>
                <a href="{{ path('user_account_gambles_list') }}" class="small-box-footer">
                    {{ 'dashboard.link'|trans }} <i class="fa fa-arrow-circle-right"></i>
                </a>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 col-xs-12">
            <div class="small-box bg-purple">
                <div class="inner">
                    <h3>Tabla de posiciones</h3>
                        <table class="table table-bordered table-condensed">
                            <thead>
                                <tr>
                                    <th>Posici√≥n</th>
                                    <th>Jugador</th>
                                    <th>A favor</th>
                                    <th>En contra</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for user in ranking %}
                                    <tr>
                                        <td><strong>{{ user.position }}</strong></td>
                                        <td>{{ user.fullName }}</td>
                                        <td>{{ user.winning_points }}</td>
                                        <td>{{ user.losing_points * -1 }}</td>
                                        <td><strong>{{ user.total_points }}</strong></td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}